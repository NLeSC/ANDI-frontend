<div class="col-sm-12">
  <h2>Results Plots</h2>

  <div class="alert alert-danger" ng-show="errorMessage">
    <strong>Error:</strong>
    {{ errorMessage }}
  </div>

  <span us-spinner="{radius:30, width:10, length: 20}" spinner-on="ocpuSpinner"></span>
  <uib-tabset active="active">
    <uib-tab index="0" heading="Lines Plot">
      <div class="tabpanel">
        <button type="button" class="btn btn-default btn-sm" ng-click="plotCtrl.svg2pdf('lines-graph')">Download graph as PDF</button>
        <p>
          <div class="graph" id="lines-graph"></div>
        </p>
      </div>
    </uib-tab>
    <uib-tab index="1" heading="Ellipses Plot">
      <div class="tabpanel">
        <div class="alert alert-warning" ng-show="ellipsePlotWarning">
          <strong>Warning:</strong>
          {{ ellipsePlotWarning }}
        </div>
        <button type="button" class="btn btn-default btn-sm" ng-click="plotCtrl.svg2pdf('ellipses-graph')">Download graph as PDF</button>
      </div>
      <div class="graph" id="ellipses-graph"></div>
    </uib-tab>
    <uib-tab index="2" heading="Tables">
      <p>
        <div>
          <h3>{{ plotCtrl.univariateTitle }}</h3>
          <table id="uni-var-table" class="display"></table>
          <hr>
          <h3>{{ plotCtrl.multivariateTitle }}</h3>
          <table id="multi-var-table" class="display"></table>
        </div>
      </p>
    </uib-tab>
    <uib-tab index="3" heading="Data export">
      <div class="tabpanel">
        <div class="alert alert-warning">
          Please note that the data are exported as a text file with tab separated values.
          When you open the exported text file in Excel, please use only tabs as separators,
          otherwise the column names and column values might not line up.
        </div>
        <ul>
          <li ng-show="plotCtrl.normcompDataCsv">
            <a target="_self" href="{{plotCtrl.normcompDataCsv}}" download="normcompdata.txt">
              Export normcomp data
            </a>
          </li>
          <li ng-show="plotCtrl.patientDataCsv">
            <a target="_self" href="{{plotCtrl.patientDataCsv}}" download="patientdata.txt">
              Export patient data
            </a>
          </li>
          <li ng-hide="plotCtrl.normcompDataCsv">
            No normcomp data to export
          </li>
          <li ng-hide="plotCtrl.patientDataCsv">
            No patient data to export
          </li>
        </ul>
        <div>
          <br/>
          <br/>
          Thank you for using the ANDI website!
        </div>

      </div>
    </uib-tab>
  </ui-tabset>
</div>
